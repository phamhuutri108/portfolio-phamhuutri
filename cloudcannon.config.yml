collections_config:
  short-films:
    path: data
    parser: json
    name: Short Films
    
    # Preview trong CMS
    preview:
      gallery:
        image: key thumbnail
        text: key title.en
    
    _inputs:
      # ===== FIXED FIELDS (Unchanged) =====
      
      title:
        type: object
        label: Title
      
      thumbnail:
        type: image
        label: Thumbnail
      
      year:
        type: text
        label: Year
      
      genre:
        type: object
        label: Genre
      
      duration:
        type: text
        label: Duration
      
      awards:
        type: array
        label: Awards
      
      video:
        type: object
        label: Main Video
      
      logline:
        type: object
        label: Logline
      
      synopsis:
        type: object
        label: Synopsis
      
      directorsStatement:
        type: object
        label: Director's Statement
      
      crew:
        type: array
        label: Crew (Text List)
      
      music:
        type: object
        label: Music
      
      # ===== CUSTOM BLOCKS (New) =====
      
      customBlocks:
        type: object
        label: Custom Content Blocks
        comment: "Create reusable content blocks here, then add them to Render Order below"
        options:
          subtype: object
      
      # IMPORTANT: M·ªói custom block c·∫ßn define structure
      customBlocks.*:
        type: object
        label: Block
        options:
          structures: _structures.customBlocks
      
      # ===== RENDER ORDER (Drag & Drop) =====
      
      renderOrder:
        type: array
        label: Content Order
        comment: "Drag items to reorder how content appears on the page"
        options:
          structures: _structures.renderOrder

# ==========================================
# STRUCTURES
# ==========================================

_structures:
  
  # Custom Blocks Structures
  customBlocks:
    values:
      - label: Text Section
        icon: article
        value:
          type: text
          heading: { vi: "", en: "" }
          content: { vi: "", en: "" }
      
      - label: Quote
        icon: format_quote
        value:
          type: quote
          author: ""
          content: { vi: "", en: "" }
      
      - label: Callout / Alert
        icon: info
        value:
          type: callout
          style: info
          content: { vi: "", en: "" }
      
      - label: Button
        icon: smart_button
        value:
          type: button
          label: { vi: "", en: "" }
          url: ""
          style: primary
      
      - label: List
        icon: list
        value:
          type: list
          heading: { vi: "", en: "" }
          listType: ul
          items: { vi: [], en: [] }
      
      - label: Image
        icon: image
        value:
          type: image
          src: ""
          caption: { vi: "", en: "" }
          width: "100%"
      
      - label: Divider
        icon: horizontal_rule
        value:
          type: divider
      
      - label: Video (Extra)
        icon: videocam
        value:
          type: video
          title: { vi: "", en: "" }
          data:
            platform: youtube
            embedId: ""
            url: ""
      
      - label: Embed Code
        icon: code
        value:
          type: embed
          embedCode: ""
          caption: { vi: "", en: "" }
      
      - label: Custom HTML
        icon: html
        value:
          type: custom_html
          content: { vi: "", en: "" }
  
  # Render Order Structures
  renderOrder:
    values:
      # Built-in sections
      - label: "üìä Metadata (Genre, Year, Duration)"
        icon: info
        value:
          type: metadata
      
      - label: "üé¨ Main Video"
        icon: videocam
        value:
          type: video
      
      - label: "üìù Logline"
        icon: short_text
        value:
          type: logline
      
      - label: "üìÑ Synopsis"
        icon: subject
        value:
          type: synopsis
      
      - label: "üí≠ Director's Statement"
        icon: record_voice_over
        value:
          type: directorsStatement
      
      - label: "üìã Description"
        icon: description
        value:
          type: description
      
      - label: "üë• Crew List"
        icon: people
        value:
          type: crew
      
      - label: "üéµ Music"
        icon: music_note
        value:
          type: music
      
      # Custom block reference
      - label: "‚ú® Custom Block"
        icon: add_circle
        value:
          type: custom
          blockId: ""

# ==========================================
# INPUT CONFIGURATIONS
# ==========================================

_inputs:
  
  # Render Order Item
  renderOrder[*].type:
    type: select
    label: Type
    hidden: true
  
  renderOrder[*].blockId:
    type: select
    label: Select Custom Block
    comment: "Choose which custom block to insert here"
    options:
      values: _select_data.customBlockIds
  
  # Custom Blocks
  customBlocks.*.type:
    type: select
    label: Block Type
    hidden: true
  
  customBlocks.*.style:
    type: select
    label: Style
    options:
      values:
        - info
        - warning
        - success
        - error
        - primary
        - secondary
  
  customBlocks.*.listType:
    type: select
    label: List Type
    options:
      values:
        - value: ul
          label: Bullet List
        - value: ol
          label: Numbered List

# ==========================================
# SELECT DATA (Dynamic)
# ==========================================

_select_data:
  customBlockIds:
    # CloudCannon will auto-populate n√†y v·ªõi keys t·ª´ customBlocks
    # N·∫øu kh√¥ng auto ‚Üí Ph·∫£i list manual:
    # - special-intro
    # - critic-quote
    # - premiere-announcement
    # etc.